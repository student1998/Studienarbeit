<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"><title>JSP</title></head><body><%@ page import="java.util.*, javax.mail.*, javax.mail.internet.*, javax.activation.*" %><%  boolean write=true;  String missingData="";  String sep2=".";  String sep3=":";  String name=request.getParameter("nachname");  String mail=request.getParameter("mail");  String kommentar=request.getParameter("kommentar");  // Jetzt die Inhalte prüfen:  if (name.length()==0) {    out.println ("<b>Bitte den Namen eingeben</b><br>");    write=false;    missingData=missingData+"Nachname<br>";  }  if (mail.length()==0) {    out.println ("<b>Bitte die Mail-Adresse eingeben</b><br>");    write=false;    missingData=missingData+"E-Mail<br>";  }  if (kommentar.length()==0) {    out.println ("<b>Bitte einen Kommentar eingeben</b><br>");    write=false;    missingData=missingData+"Kommentar<br>";  } if (write) {    // Jetzt das aktuelle Datum und die Uhrzeit:    GregorianCalendar cal = new GregorianCalendar();    int day=cal.get(Calendar.DATE);    int month=cal.get(Calendar.MONTH);    int year=cal.get(Calendar.YEAR);    int hour=cal.get(Calendar.HOUR_OF_DAY);    int minute=cal.get(Calendar.MINUTE);    int second=cal.get(Calendar.SECOND);   // Jetzt den Textkörper der E-Mail generieren:    String body="<html><body><p>";    body=body+"Ein Internet-Surfer hat das Kontaktformular ausgefüllt:</p>";    body=body+"<b>Name: </b>"+name+"<br><b>E-Mail:</b>"+mail;    body=body+"<br><b>Datum: </b>"+day+sep2+month+sep2+year;    body=body+"<br><b>Uhrzeit: </b>"+hour+sep3+minute+sep3+second;    body=body+"<br><br><b>Kommentar: </b>"+kommentar;    body=body+"</body></html>";   // Jetzt die E-Mail versenden:    try {     Properties prop = new Properties();     prop.put("mail.smtp.host", "smtp.googlemail.com");     Session s = Session.getInstance(prop);     MimeMessage message = new MimeMessage(s);     InternetAddress from = new InternetAddress(mail);     message.setFrom(from);     InternetAddress rcpt = new InternetAddress("myevents24@googlemail.com");      message.addRecipient(Message.RecipientType.TO, rcpt);     String cc="seppzero@googlemail.com, sebasian.uebele@googlemail.com";     message.addRecipients(Message.RecipientType.BCC,InternetAddress.parse(cc));     message.setSubject("Internet-Anfrage");     DataHandler mime=new DataHandler(body, "text/html");     message.setDataHandler(mime);     message.setSentDate(new Date());     message.setHeader("X-Mailer", "JSP-Mailer von Seebi");     message.setHeader("Subject", "Anfrage vom Kontaktformular");     Transport.send(message);     out.println ("<p>Vielen Dank für Ihre Nachricht!</p>");   } catch (MessagingException msgexcep) {    out.println (msgexcep.getMessage());   }  } else {   out.println("<p>Daten konnten nicht abgesendet werden. <br>Folgende Daten fehlen:</p>");   out.println(missingData);   out.println("<br><br>");   out.println("<a href='javascript:history.back()'>Zurück zur Eingabe</a>"); }  %></body></html>